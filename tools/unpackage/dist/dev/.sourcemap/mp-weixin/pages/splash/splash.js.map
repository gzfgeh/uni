{"version":3,"sources":["webpack:////Users/tuyao/Documents/uni/tools/main.js","webpack:////Users/tuyao/Documents/uni/tools/pages/splash/splash.vue?8f56","webpack:////Users/tuyao/Documents/uni/tools/pages/splash/splash.vue?3c6e","webpack:////Users/tuyao/Documents/uni/tools/pages/splash/splash.vue?c391","webpack:////Users/tuyao/Documents/uni/tools/pages/splash/splash.vue?6af3","webpack:////Users/tuyao/Documents/uni/tools/pages/splash/splash.vue","webpack:////Users/tuyao/Documents/uni/tools/pages/splash/splash.vue?a01b","webpack:////Users/tuyao/Documents/uni/tools/pages/splash/splash.vue?ef22"],"names":["createPage","Page","data","splash","BASE_IMAGE_URL","code","openid","methods","login","that","wx","success","res","console","log","setStorageSync","getOpenid","errMsg","fail","err","result","exist","userInfoSave","m_openid","getUserInfo","params","uni","showToast","icon","title","msg","duration","bindUser","switchTab","url","m_avatar","m_nickname","onLoad","setTimeout","getStorageSync","userInfo"],"mappings":"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","file":"pages/splash/splash.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/splash/splash.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./splash.vue?vue&type=template&id=0a8f3c6c&\"\nimport script from \"./splash.vue?vue&type=script&lang=js&\"\nexport * from \"./splash.vue?vue&type=script&lang=js&\"\nimport style0 from \"./splash.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('0a8f3c6c', component.options)\n    } else {\n      api.reload('0a8f3c6c', component.options)\n    }\n    module.hot.accept(\"./splash.vue?vue&type=template&id=0a8f3c6c&\", function () {\n      api.rerender('0a8f3c6c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/tuyao/Documents/uni/tools/pages/splash/splash.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./splash.vue?vue&type=template&id=0a8f3c6c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./splash.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./splash.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { BASE_IMAGE_URL,getOpenid,userInfoSave,bindUser,getConfig,getUserInfo } from \"@/utils/api\";\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tsplash: BASE_IMAGE_URL + \"splash.gif\",\n\t\t\tcode: 0,\n\t\t\topenid: ''\n\t\t};\n\t},\n\tmethods:{\n\t\tlogin: function(){\n\t\t      let that = this;\n\t\t      wx.login({\n\t\t        success: function (res) {\n\t\t          if (res.code) {\n\t\t            console.log(res.code);\n\t\t            that.code = res.code;\n\t\t            wx.setStorageSync(\"code\", that.code);\n\t\t            that.getOpenid(res.code);\n\t\t          } else {\n\t\t            console.log('获取用户登录态失败！' + res.errMsg)\n\t\t          }\n\t\t        },\n\t\t        fail: function(err){\n\t\t          console.log(err);\n\t\t        }\n\t\t      });\n\t\t    },\n\t\tasync getOpenid(code){\n\t\t    let that = this;\n\t\t    let result = await getOpenid(code);\n\t\t    console.log(result);\n\t\t\tthis.openid = result.openid;\n\t\t    wx.setStorageSync('openid', result.openid);\n\t\t\tif(result.exist == 0){\n\t\t\t\t// 不存在\n\t\t\t\t// uni.switchTab({\n\t\t\t\t// \turl:'/pages/main/main'\n\t\t\t\t// })\n\t\t\t\tthis.userInfoSave({m_openid: result.openid});\n\t\t\t}else{\n\t\t\t\tthis.getUserInfo(this.openid);\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tasync userInfoSave(params){\n\t\t  let res = await userInfoSave(params);\n\t\t  console.log(res);\n\t\t  if(res.code == 1000){\n\t\t\tthis.getUserInfo(params.m_openid);\n\t\t  }else{\n\t\t\t  uni.showToast({\n\t\t\t  \ticon: 'none',\n\t\t\t  \ttitle: res.msg,\n\t\t\t  \tduration: 1000\n\t\t\t  });\n\t\t  }\n\t\t},\t\n\t\tasync bindUser(){\n\t\t\tlet params = {\n\t\t\t\tm_openid: this.openid\n\t\t\t};\n\t\t\tlet res = await bindUser(params);\n\t\t\tif(res.code == 1000){\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl:'/pages/main/main'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tasync getUserInfo(openid){\n\t\t\tlet res = await getUserInfo(openid);\n\t\t\tconsole.log(res);\n\t\t\tif(res.code == 1000){\n\t\t\t\tif(res.data && res.data.m_avatar && res.data.m_nickname){\n\t\t\t\t\tuni.setStorageSync('userInfo',res.data);\n\t\t\t\t};\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl:'/pages/main/main'\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t},\n\tonLoad() {\n\t\tsetTimeout(() => {\n\t\t\tlet openid = uni.getStorageSync('openid');\n\t\t\tif(openid){\n\t\t\t\tlet userInfo =  uni.getStorageSync('userInfo');\n\t\t\t\tif(userInfo){\n\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\turl:'/pages/main/main'\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tthis.getUserInfo(openid);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.login();\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t}, 3000);\n\t}\n}\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./splash.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./splash.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}