(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mall_order/mall_order"],{"1f66":function(t,e,n){},"53de":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("a34a")),o=n("692b");n("2f62");function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,r,o,a,s){try{var i=t[a](s),l=i.value}catch(u){return void n(u)}i.done?e(l):Promise.resolve(l).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){s(a,r,o,i,l,"next",t)}function l(t){s(a,r,o,i,l,"throw",t)}i(void 0)})}}var l=function(){return n.e("components/uni-load-more").then(n.bind(null,"2ba6"))},u=function(){return n.e("components/popup-pay").then(n.bind(null,"787f"))},c={components:{uniLoadMore:l,uniPopup:u},data:function(){return{loadingText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},list:[],companyCode:"",loadingType:0,page:1,popupParam:"",orderID:"",allMoney:"0",selectIndex:0,keywords:"",orderStatus:"",orderStatusList:["已取消","待付款","已付款","待收货","已收货","已退款","已完成"],typeList:["全部","待付款","待发货","待收货","已完成"],curType:0}},methods:{changeType:function(t){this.curType=t,console.log(t," at pages/mall_order/mall_order.vue:126"),this.orderStatus=0==t?"":t,this.page=1,this.getList()},payPopup:function(t){this.popupParam=t},moneyPay:function(t,e){this.orderID=t,this.allMoney=e,this.popupParam="bottom"},tuikuan:function(e){var n=this;t.showModal({title:"提醒",content:"是否退款",success:function(t){t.confirm?n.moneyBack(e):t.cancel&&console.log("用户点击取消"," at pages/mall_order/mall_order.vue:155")}})},moneyBack:function(){var e=i(r.default.mark(function e(n){var a,s;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={orderID:this.list[n].id},e.next=3,(0,o.Refund_mallOrder)(a);case 3:s=e.sent,1==s.status?(this.page=1,this.getList()):t.showToast({icon:"none",title:s.message,duration:1e3});case 5:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),actionOrder:function(e,n){var r=this;t.showModal({title:"提醒",content:1==e?"是否取消":"是否删除",success:function(t){t.confirm?r.cancel_order(e,n):t.cancel&&console.log("用户点击取消"," at pages/mall_order/mall_order.vue:187")}})},cancel_order:function(){var e=i(r.default.mark(function e(n,a){var s,i;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s={order_id:this.list[a].id},e.next=3,(0,o.cancel_order)(s);case 3:i=e.sent,1==i.status?(this.page=1,this.getList()):t.showToast({icon:"none",title:i.message,duration:1e3});case 5:case"end":return e.stop()}},e,this)}));function n(t,n){return e.apply(this,arguments)}return n}(),lookDetail:function(){var e=i(r.default.mark(function e(n){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.selectIndex=n,t.navigateTo({url:"/pages/express_detail/express_detail?orderID="+this.list[n].orderID+"&orderStatus=1"});case 2:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),getList:function(){var e=i(r.default.mark(function e(){var n,a,s;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.getStorageSync("userInfo"),a={user_id:n.userID,page:this.page,keyword:this.keywords,order_status:this.orderStatus>=0?this.orderStatus:""},e.next=4,(0,o.order_list)(a);case 4:s=e.sent,t.stopPullDownRefresh(),1==s.status&&(1==this.page?this.list=s.data:this.list=this.list.concat(s.data),this.list.length<10?this.loadingType=2:this.loadingType=0);case 7:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),goToDetail:function(e,n){1==n?t.navigateTo({url:"/pages/mall_order_detail/mall_order_detail?type=1&orderID="+this.list[e].id}):t.navigateTo({url:"/pages/mall_order_detail/mall_order_detail?orderID="+this.list[e].id})}},onReachBottom:function(){this.loadingType=1,this.page++,this.getList()},onPullDownRefresh:function(){console.log("dddddd"," at pages/mall_order/mall_order.vue:264"),this.page=1,this.getList()},onLoad:function(){},onShow:function(){this.popupParam="",this.page=1,this.getList(),this.companyCode=t.getStorageSync("userInfo").companyCode;var e=this.$store.getters.getOrderItem;console.log(e," at pages/mall_order/mall_order.vue:282"),e&&(this.list[this.selectIndex]=JSON.parse(e),this.$forceUpdate())},onNavigationBarSearchInputChanged:function(t){console.log(t.text," at pages/mall_order/mall_order.vue:290"),this.page=1,this.keywords=t.text.trim(),this.getList()},onNavigationBarButtonTap:function(){console.log("点击了自定义按钮"," at pages/mall_order/mall_order.vue:296");var e=this;t.scanCode({success:function(t){console.log("条码类型："+t.scanType," at pages/mall_order/mall_order.vue:300"),console.log("条码内容："+t.result," at pages/mall_order/mall_order.vue:301"),e.keywords=t.result,e.page=1,e.getList()}})}};e.default=c}).call(this,n("6e42")["default"])},"55ca":function(t,e,n){"use strict";n.r(e);var r=n("a66e"),o=n("fb59");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("fa16");var s=n("2877"),i=Object(s["a"])(o["default"],r["a"],r["b"],!1,null,null,null);e["default"]=i.exports},a66e:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.list,function(e,n){var r=parseInt(e.order_status),o=parseFloat(e.freight),a=parseInt(e.price);return{$orig:t.__get_orig(e),m0:r,m1:o,m2:a}}));t.$mp.data=Object.assign({},{$root:{l0:n}})},o=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o})},fa16:function(t,e,n){"use strict";var r=n("1f66"),o=n.n(r);o.a},fb59:function(t,e,n){"use strict";n.r(e);var r=n("53de"),o=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);e["default"]=o.a}},[["fdba","common/runtime","common/vendor"]]]);