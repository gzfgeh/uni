(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/add_address/add_address"],{"1cd0":function(e,t,a){"use strict";var n=a("6d52"),i=a.n(n);i.a},"1ed6":function(e,t,a){"use strict";a.r(t);var n=a("bded"),i=a("b554");for(var s in i)"default"!==s&&function(e){a.d(t,e,function(){return i[e]})}(s);a("1cd0");var r=a("2877"),d=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=d.exports},"6d52":function(e,t,a){},"741a":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("a34a")),i=a("692b");function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a,n,i,s,r){try{var d=e[s](r),o=d.value}catch(u){return void a(u)}d.done?t(o):Promise.resolve(o).then(n,i)}function d(e){return function(){var t=this,a=arguments;return new Promise(function(n,i){var s=e.apply(t,a);function d(e){r(s,n,i,d,o,"next",e)}function o(e){r(s,n,i,d,o,"throw",e)}d(void 0)})}}var o=function(){return a.e("components/mpvuePicker").then(a.bind(null,"a450"))},u={components:{mpvuePicker:o},data:function(){return{province:"",city:"",area:"",name:"",type:-1,detail:"",detailValue:"",phone:"",phoneValue:"",fixedphone:"",fixedphoneValue:"",addressType:"请选择",addressTypeList:["寄件地址","收件地址"],pickerValueDefault:[0,0,0],pickerValueArray:[],address:"请选择",deepIndex:0,deepLength:3,item:"",ifDefault:!1,is_vip:0,shou:0}},methods:{detailChange:function(e){console.log(e.detail.value," at pages/add_address/add_address.vue:122"),this.detail=e.detail.value},fixedphoneChange:function(e){console.log(e.detail.value," at pages/add_address/add_address.vue:126"),this.fixedphone=e.detail.value},defaultChange:function(e){console.log(e," at pages/add_address/add_address.vue:130"),this.ifDefault=e.target.value},showAddress:function(){plus.key.hideSoftKeybord(),this.$refs.mpvuePicker.show()},onConfirm:function(e){console.log(e," at pages/add_address/add_address.vue:140"),this.address=e.label},onCancel:function(e){},delAddress:function(){var t=d(n.default.mark(function t(){var a,s;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a={userID:e.getStorageSync("userInfo").userID,addressID:this.item.addressID,flag:3},t.next=3,(0,i.addressManage)(a);case 3:s=t.sent,1==s.status?(e.showToast({title:"删除成功",icon:"none",duration:2e3}),e.navigateBack({delta:1})):e.showToast({title:s.message,icon:"none",duration:2e3});case 5:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),phoneChnage:function(e){console.log(e.detail.value," at pages/add_address/add_address.vue:171"),this.phone=e.detail.value},saveAddress:function(){var t=d(n.default.mark(function t(){var a,s,r;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("请选择"!=this.address){t.next=3;break}return e.showToast({title:"请选择地区",icon:"none",duration:2e3}),t.abrupt("return");case 3:if(this.name){t.next=7;break}return e.showToast({title:"请填写姓名",icon:"none",duration:2e3}),t.abrupt("return");case 7:if(this.phone||this.fixedphone){t.next=11;break}return e.showToast({title:"手机固话二填一",icon:"none",duration:2e3}),t.abrupt("return");case 11:if(this.detail){t.next=15;break}return e.showToast({title:"请填写详细地址",icon:"none",duration:2e3}),t.abrupt("return");case 15:return a=this.address.split("-"),this.province=a[0],this.city=a[1],this.area=a[2],s={qyCompayId:0,userID:e.getStorageSync("userInfo").userID,province:this.province,city:this.city,area:this.area,phone:this.phone,name:this.name,type:this.type,detail:this.detail,isInternationalAddress:0,fixedphone:this.fixedphone,ifDefault:this.ifDefault?1:0},this.item&&(s.addressID=this.item.addressID),t.next=24,(0,i.saveAddress)(s);case 24:r=t.sent,1==r.status?e.navigateBack({delta:1}):e.showToast({title:r.message,icon:"none",duration:2e3});case 26:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),region:function(){var e=d(n.default.mark(function e(){var t,a,s=this;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={type:0,isShow:!1},e.next=3,(0,i.region)(t);case 3:a=e.sent,1==a.status&&(a.data.map(function(e,t){e.label=e.name,e.value=e.id,s.item&&e.name==s.province&&(s.pickerValueDefault[0]=t),e.children.map(function(e,t){e.label=e.name,e.value=e.id,s.item&&e.name==s.city&&(s.pickerValueDefault[1]=t),e.children.map(function(e,t){e.label=e.name,e.value=e.id,s.item&&e.name==s.area&&(s.pickerValueDefault[2]=t)})})}),this.pickerValueArray=a.data);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),showAddressType:function(){var t=this;e.showActionSheet({itemList:t.addressTypeList,success:function(e){t.addressType=t.addressTypeList[e.tapIndex],t.type=e.tapIndex+1},fail:function(e){}})}},onLoad:function(t){if(t.params){var a=JSON.parse(t.params);a&&(this.item=a,this.name=a.name,this.phone=a.phone,this.province=a.province,this.city=a.city,this.area=a.area,this.detail=a.detail,this.fixedphone=a.fixedphone,this.address=this.province+"-"+this.city+"-"+this.area,this.ifDefault=1==a.ifDefault,e.setNavigationBarTitle({title:"修改地址"}))}this.phoneValue=this.phone,this.fixedphoneValue=this.fixedphone,this.detailValue=this.detail,this.deepIndex=0,this.region();var n=e.getStorageSync("userInfo");this.is_vip=parseInt(n.is_vip),this.shou=t.shou,this.shou="undefined"==this.shou?0:this.shou,console.log(this.shou," at pages/add_address/add_address.vue:333")}};t.default=u}).call(this,a("6e42")["default"])},b554:function(e,t,a){"use strict";a.r(t);var n=a("741a"),i=a.n(n);for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);t["default"]=i.a},bded:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},i=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i})}},[["5da9","common/runtime","common/vendor"]]]);