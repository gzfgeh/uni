(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/fuli/fuli"],{"1ab9":function(t,e,n){"use strict";n.r(e);var i=n("954f"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);e["default"]=a.a},"2dbd":function(t,e,n){"use strict";n.r(e);var i=n("a509"),a=n("1ab9");for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);n("b547");var r=n("2877"),u=Object(r["a"])(a["default"],i["a"],i["b"],!1,null,null,null);e["default"]=u.exports},"954f":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("a34a")),a=n("692b");function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i,a,s,r){try{var u=t[s](r),o=u.value}catch(c){return void n(c)}u.done?e(o):Promise.resolve(o).then(i,a)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(i,a){var s=t.apply(e,n);function u(t){r(s,i,a,u,o,"next",t)}function o(t){r(s,i,a,u,o,"throw",t)}u(void 0)})}}var o={data:function(){return{itemList:[],t_url:"",buildingName:"请选择楼宇",curIndex:0,list:[],teMaiList:[],timeList:[],couponList:[],curTimeIndex:0,curTypeIndex:0,isAPP:!0,loadingText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},loadingType:0,page:1,imageList:[]}},onLoad:function(){this.isAPP=!0},onShow:function(){this.buildingName=t.getStorageSync("userInfo").buildingName,this.buildingName||(this.buildingName="请选择楼宇"),this.getBanners(),this.sale_store(),this.welfare_coupon_time()},methods:{goToQuestion:function(e){1==e.is_used?t.navigateTo({url:"../../mall_question/mall_question?wc_id="+e.c_id}):wx.showToast({title:"目前不能领取此优惠券",icon:"none",duration:1e3})},getBanners:function(){var e=u(i.default.mark(function e(){var n;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.getBanners)(24,t.getStorageSync("userInfo").buildingID);case 2:n=e.sent,1==n.status&&(this.imageList=n.data);case 4:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),changeTimeType:function(t){this.curTimeIndex=t,this.welfare_coupon_list(t)},selectBuild:function(){this.isLogin()&&t.navigateTo({url:"/pages/build/build"})},slideChange:function(t){this.curIndex=t.mp.detail.current},changeType:function(t){this.curTypeIndex=t,this.$forceUpdate()},welfare_coupon_time:function(){var t=u(i.default.mark(function t(){var e;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.welfare_coupon_time)();case 2:e=t.sent,1==e.status&&(this.timeList=e.data,this.timeList.map(function(t){t.starts=t.start_time.split(" ")[1].split(":"),t.start=t.starts[0]+":"+t.starts[1],t.ends=t.end_time.split(" ")[1].split(":"),t.end=t.ends[0]+":"+t.ends[1]}),this.welfare_coupon_list(0));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),welfare_coupon_list:function(){var t=u(i.default.mark(function t(e){var n,s;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n={start_time:this.timeList[e].start_time,end_time:this.timeList[e].end_time},t.next=3,(0,a.welfare_coupon_list)(n);case 3:s=t.sent,1==s.status&&(1==this.page?this.couponList=s.data:this.couponList=this.couponList.concat(s.data),s.data.length<10?this.loadingType=2:this.loadingType=0,console.log(this.couponList," at pages/tabbar/fuli/fuli.vue:214"));case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),sale_store:function(){var t=u(i.default.mark(function t(){var e,n;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={page:this.page,limit:10},t.next=3,(0,a.sale_store)(e);case 3:n=t.sent,1==n.status&&(1==this.page?this.teMaiList=n.data:this.teMaiList=this.teMaiList.concat(n.data),n.data.length<10?this.loadingType=2:this.loadingType=0);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),goToOrderList:function(){t.navigateTo({url:"../../mall_goods_list/mall_goods_list"})}}};e.default=o}).call(this,n("6e42")["default"])},a509:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=(t._self._c,n("8710")),a=n("d3e2"),s=n("6e94"),r=n("c542"),u=n("eb5f");t.$mp.data=Object.assign({},{$root:{m0:i,m1:a,m2:s,m3:r,m4:u}})},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},b547:function(t,e,n){"use strict";var i=n("c616"),a=n.n(i);a.a},c616:function(t,e,n){}},[["2e07","common/runtime","common/vendor"]]]);