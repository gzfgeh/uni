(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/add_address_global/add_address_global"],{3325:function(e,t,a){"use strict";var n=a("68b5"),i=a.n(n);i.a},"68b5":function(e,t,a){},"72c2":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("a34a")),i=a("692b");function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a,n,i,s,o){try{var r=e[s](o),u=r.value}catch(d){return void a(d)}r.done?t(u):Promise.resolve(u).then(n,i)}function r(e){return function(){var t=this,a=arguments;return new Promise(function(n,i){var s=e.apply(t,a);function r(e){o(s,n,i,r,u,"next",e)}function u(e){o(s,n,i,r,u,"throw",e)}r(void 0)})}}var u=function(){return a.e("components/mpvuePicker").then(a.bind(null,"a450"))},d={components:{mpvuePicker:u},data:function(){return{province:"Please select a country",city:"",area:"",phone:"",phoneValue:"",name:"",type:-1,detail:"",detailValue:"",fixedphone:"",fixedphoneValue:"",pickerValueDefault:[0],pickerValueArray:[],address:"请选择",deepIndex:0,deepLength:1,item:"",ifDefault:!1,postcode:"",companyName:""}},methods:{detailChange:function(e){console.log(e.detail.value," at pages/add_address_global/add_address_global.vue:173"),this.detail=e.detail.value},phoneChnage:function(e){console.log(e.detail.value," at pages/add_address_global/add_address_global.vue:177"),this.phone=e.detail.value},phoneValueChnage:function(e){console.log(e.detail.value," at pages/add_address_global/add_address_global.vue:181"),this.fixedphone=e.detail.value},defaultChange:function(e){console.log(e," at pages/add_address_global/add_address_global.vue:185"),this.ifDefault=e.target.value},showCountry:function(){plus.key.hideSoftKeybord(),this.$refs.mpvuePicker.show()},onConfirm:function(e){console.log(e," at pages/add_address_global/add_address_global.vue:195"),this.province=e.label},onCancel:function(e){},region:function(){var e=r(n.default.mark(function e(){var t,a,s=this;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={type:1,isShow:!1},e.next=3,(0,i.region)(t);case 3:a=e.sent,1==a.status&&(a.data.map(function(e,t){e.label=e.name,e.value=e.id,s.item&&e.name==s.province&&(s.pickerValueDefault[0]=t)}),this.pickerValueArray=a.data,console.log(this.pickerValueDefault," at pages/add_address_global/add_address_global.vue:217"));case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),delAddress:function(){var t=r(n.default.mark(function t(){var a,s;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a={userID:e.getStorageSync("userInfo").userID,addressID:this.item.addressID,flag:3},t.next=3,(0,i.addressManage)(a);case 3:s=t.sent,1==s.status?(e.showToast({title:"删除成功",icon:"none",duration:2e3}),e.navigateBack({delta:1})):e.showToast({title:s.message,icon:"none",duration:2e3});case 5:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),saveAddress:function(){var t=r(n.default.mark(function t(){var a,s;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("Please select a country"!=this.province){t.next=3;break}return e.showToast({title:"请选择国家",icon:"none",duration:2e3}),t.abrupt("return");case 3:if(this.city){t.next=7;break}return e.showToast({title:"请填写城市",icon:"none",duration:2e3}),t.abrupt("return");case 7:if(this.name){t.next=11;break}return e.showToast({title:"请填写姓名",icon:"none",duration:2e3}),t.abrupt("return");case 11:if(this.phone){t.next=16;break}if(this.fixedphone){t.next=16;break}return e.showToast({title:"手机/固话至少选填一个",icon:"none",duration:2e3}),t.abrupt("return");case 16:if(this.detail){t.next=20;break}return e.showToast({title:"请填写详细地址",icon:"none",duration:2e3}),t.abrupt("return");case 20:return a={qyCompayId:0,userID:e.getStorageSync("userInfo").userID,province:this.province,city:this.city,area:this.area,phone:this.phone,name:this.name,type:this.type,detail:this.detail,isInternationalAddress:1,fixedphone:this.fixedphone,ifDefault:this.ifDefault?1:0,companyName:this.companyName,postcode:this.postcode},this.item&&(a.addressID=this.item.addressID),t.next=25,(0,i.saveAddress)(a);case 25:if(s=t.sent,1!=s.status){t.next=30;break}e.navigateBack({delta:1}),t.next=32;break;case 30:return e.showToast({title:s.message,icon:"none",duration:2e3}),t.abrupt("return");case 32:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}()},onLoad:function(t){if(t.params){var a=JSON.parse(t.params);a&&(this.item=a,this.name=a.name,this.phone=a.phone,this.province=a.province,this.city=a.city,this.postcode=a.postcode,this.detail=a.detail,this.fixedphone=a.fixedphone,this.companyName=a.companyName,this.ifDefault=1==a.ifDefault,e.setNavigationBarTitle({title:"修改地址"}))}this.phoneValue=this.phone,this.detailValue=this.detail,this.fixedphoneValue=this.fixedphone,this.region()}};t.default=d}).call(this,a("6e42")["default"])},af6d:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},i=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i})},db4f:function(e,t,a){"use strict";a.r(t);var n=a("af6d"),i=a("f8a7");for(var s in i)"default"!==s&&function(e){a.d(t,e,function(){return i[e]})}(s);a("3325");var o=a("2877"),r=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=r.exports},f8a7:function(e,t,a){"use strict";a.r(t);var n=a("72c2"),i=a.n(n);for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);t["default"]=i.a}},[["f2db","common/runtime","common/vendor"]]]);