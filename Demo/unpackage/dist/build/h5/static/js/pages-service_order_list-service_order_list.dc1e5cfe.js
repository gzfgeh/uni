(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-service_order_list-service_order_list"],{"1e61":function(t,e,i){var a=i("952a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3a4ea8c5",a,!0,{sourceMap:!1,shadowMode:!1})},2366:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"load-more",props:{loadingType:{type:Number,default:0},showImage:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{}}};e.default=a},"2a46":function(t,e,i){var a=i("5467");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("7d90820e",a,!0,{sourceMap:!1,shadowMode:!1})},"2fd3":function(t,e,i){"use strict";i.r(e);var a=i("4474"),n=i("f5b7");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("9636");var r=i("2877"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"13ff165d",null);e["default"]=s.exports},4474:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("div",{staticClass:"head_wrap"},t._l(t.typeList,function(e,a){return i("div",{key:a,staticClass:"head_item row_center",on:{click:function(e){e=t.$handleEvent(e),t.changeType(a)}}},[i("span",{class:{active_type:t.curType==a}},[t._v(t._s(e))])])}),0),i("div",{staticStyle:{background:"#fff","margin-top":"120upx",padding:"0 30upx 20upx"}},[t._l(t.list,function(e,a){return[i("v-uni-navigator",{key:a+"_0",staticClass:" item_wrap col_between",attrs:{url:"../service_order_detail/service_order_detail?orderID="+e.orderID}},[i("div",{staticClass:"title_order"},[t._v("订单编号: "+t._s(e.orderSN))]),i("div",{staticClass:"row_between title_wrap"},[i("span",[t._v("下单时间: "+t._s(e.createTime.split(" ")[0]))]),i("div",{staticClass:"row_center item_status"},[i("span",{staticClass:"dian"},[t._v("·")]),i("span",[t._v(t._s(t.orderStatusList[parseInt(e.orderStatus)+1]))])])]),i("div",{staticClass:" content_wrap"},[i("div",{staticClass:"col_between border"},[i("div",{staticClass:"content_up"},[i("img",{attrs:{src:e.waterImageUrl,mode:"aspectFill"}}),i("span",{staticClass:"content_center"},[t._v(t._s(e.waterShowName))]),0==parseInt(e.isCompany)?i("div",{staticClass:"content_end"},[i("span",[t._v("￥"+t._s(e.unitPrice))]),i("span",{staticClass:"number"},[t._v("x"+t._s(e.quantity))])]):t._e()]),0==parseInt(e.isCompany)?i("div",{staticClass:"content_down"},[i("span",{staticClass:"first_txt"},[t._v("共"),i("span",{staticClass:"num"},[t._v(t._s(e.quantity))]),t._v("件")]),i("span",{staticClass:"sencod_txt"},[t._v("应付金额:"),i("span",{staticClass:"money"},[t._v("￥")]),i("span",{staticClass:"money_num"},[t._v(t._s(e.price))])])]):t._e()])]),e.orderStatus<=2&&0==parseInt(e.isCompany)?i("div",{staticClass:"row item_down"},[1==e.orderStatus?i("span",{staticClass:"cancle",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.actionOrder(1,a)}}},[t._v("取消订单")]):t._e(),1==e.orderStatus&&t.orderStatus<=1&&0==parseInt(e.isCompany)?i("span",{staticClass:"pay",on:{click:function(i){i.stopPropagation(),i=t.$handleEvent(i),t.moneyPay(e.orderSN,e.orderID,e.price)}}},[t._v("支付")]):t._e(),2==e.orderStatus&&0==parseInt(e.isCompany)?i("span",{staticClass:"pay",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.tuikuan(a)}}},[t._v("退款")]):t._e()]):t._e()])]})],2),0==t.list.length&2==t.loadingType?i("div",{staticClass:"uni-center-item no_data_wrap"},[i("span",[t._v("暂无订单信息")])]):t._e(),0!=t.list.length?i("v-uni-view",{staticClass:"uni-tab-bar-loading"},[i("uni-load-more",{attrs:{loadingType:t.loadingType,contentText:t.loadingText}})],1):t._e(),i("uni-popup",{attrs:{show:"bottom"===t.popupParam,position:"bottom",mode:"fixed",payWay:"2",orderSN:t.orderSN,orderID:t.orderID,money:t.allMoney},on:{hidePopup:function(e){e=t.$handleEvent(e),t.payPopup("")}}})],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},5250:function(t,e,i){"use strict";i.r(e);var a=i("2366"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},5467:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".load-more[data-v-1961c275]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.loading-img[data-v-1961c275]{height:24px;width:24px;margin-right:10px}.loading-text[data-v-1961c275]{font-size:%?28?%;color:#777}.loading-img>uni-view[data-v-1961c275]{position:absolute}.load1[data-v-1961c275],.load2[data-v-1961c275],.load3[data-v-1961c275]{height:24px;width:24px}.load2[data-v-1961c275]{-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-1961c275]{-webkit-transform:rotate(60deg);-ms-transform:rotate(60deg);transform:rotate(60deg)}.loading-img>uni-view uni-view[data-v-1961c275]{width:6px;height:2px;-webkit-border-top-left-radius:1px;border-top-left-radius:1px;-webkit-border-bottom-left-radius:1px;border-bottom-left-radius:1px;background:#777;position:absolute;opacity:.2;-webkit-transform-origin:50%;-ms-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-1961c275 1.56s ease infinite}.loading-img>uni-view uni-view[data-v-1961c275]:first-child{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.loading-img>uni-view uni-view[data-v-1961c275]:nth-child(2){-webkit-transform:rotate(180deg);top:11px;right:0}.loading-img>uni-view uni-view[data-v-1961c275]:nth-child(3){-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.loading-img>uni-view uni-view[data-v-1961c275]:nth-child(4){top:11px;left:0}.load1 uni-view[data-v-1961c275]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.load2 uni-view[data-v-1961c275]:first-child{-webkit-animation-delay:.13s;animation-delay:.13s}.load3 uni-view[data-v-1961c275]:first-child{-webkit-animation-delay:.26s;animation-delay:.26s}.load1 uni-view[data-v-1961c275]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 uni-view[data-v-1961c275]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 uni-view[data-v-1961c275]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 uni-view[data-v-1961c275]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 uni-view[data-v-1961c275]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 uni-view[data-v-1961c275]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 uni-view[data-v-1961c275]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 uni-view[data-v-1961c275]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 uni-view[data-v-1961c275]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-1961c275{0%{opacity:1}to{opacity:.2}}",""])},6944:function(t,e,i){"use strict";var a=i("2a46"),n=i.n(a);n.a},"952a":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".item_wrap[data-v-13ff165d]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}\n/* .bottom{border-bottom: 1upx solid #E3E3E3;} */.btn_wrap[data-v-13ff165d]{position:absolute;right:%?0?%;top:%?28?%}.pay[data-v-13ff165d]{color:#fff;font-size:%?24?%;padding:%?6?% %?26?%;color:#107eff;border:1px solid #107eff;-webkit-border-radius:%?8?%;border-radius:%?8?%;text-align:center;margin:%?0?% %?10?%}.cancle[data-v-13ff165d]{color:#666;font-size:%?24?%;padding:%?6?% %?26?%;background-color:#fff;-webkit-border-radius:%?8?%;border-radius:%?8?%;text-align:center;border:1px solid #999;margin:%?0?% %?10?%}.head_wrap[data-v-13ff165d]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;position:fixed;margin-top:%?-120?%;left:%?0?%;background-color:#fff;border-bottom:%?2?% solid #e3e3e3;height:%?100?%;z-index:101}.head_item[data-v-13ff165d]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding:%?0?% %?24?%}.head_item span[data-v-13ff165d]{height:%?100?%;line-height:%?100?%}.active_type[data-v-13ff165d]{color:#107eff;border-bottom:%?2?% solid #107eff}.title_order[data-v-13ff165d]{padding:%?20?% %?30?% %?0?%;font-size:%?28?%;color:#666}.item_wrap[data-v-13ff165d]{width:100%;background-color:#fff;-webkit-border-radius:%?8?%;border-radius:%?8?%;-webkit-box-shadow:0 0 %?20?% 0 #eaeaea;box-shadow:0 0 %?20?% 0 #eaeaea;margin-bottom:%?20?%}.title_wrap[data-v-13ff165d]{padding:%?0?% %?30?% %?10?%;height:%?70?%;font-size:%?28?%;color:#666;border-bottom:%?2?% solid #e3e3e3;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.title_wrap .item_status[data-v-13ff165d]{color:#ff5269;font-size:%?28?%}.title_wrap .item_status .dian[data-v-13ff165d]{font-weight:700;font-size:%?50?%;position:relative;top:%?-4?%}.content_wrap[data-v-13ff165d]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:%?30?% %?30?% 0}.content_wrap .border[data-v-13ff165d]{width:100%;padding-bottom:%?30?%}.content_up[data-v-13ff165d]{height:%?140?%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.content_up img[data-v-13ff165d]{width:%?140?%;height:%?140?%;-webkit-border-radius:%?8?%;border-radius:%?8?%}.content_center[data-v-13ff165d]{width:336px;max-height:%?114?%;position:relative;line-height:%?40?%;overflow:hidden;font-size:%?28?%;color:#666;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding:0 %?32?%}.content_end[data-v-13ff165d]{color:#666;font-size:%?28?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.content_end .number[data-v-13ff165d]{text-align:right}.content_down[data-v-13ff165d]{width:100%;text-align:right;margin-bottom:%?20?%}.first_txt[data-v-13ff165d]{color:#999;font-size:%?28?%;margin-right:%?20?%}.first_txt .num[data-v-13ff165d]{color:#333}.sencod_txt[data-v-13ff165d]{font-size:%?28?%;color:#333}.sencod_txt .money[data-v-13ff165d]{font-size:%?24?%}.sencod_txt .money_num[data-v-13ff165d]{font-size:%?36?%}.sencod_txt .num_float[data-v-13ff165d]{font-size:%?24?%}.item_down[data-v-13ff165d]{height:%?100?%;font-size:%?24?%;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;width:100%;padding-right:%?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;border-top:%?2?% solid #e3e3e3}.item_down span[data-v-13ff165d]{-webkit-border-radius:%?12?%;border-radius:%?12?%;padding:%?4?% %?22?% 4px;margin-left:%?20?%;width:%?120?%;text-align:center}.warn_tag[data-v-13ff165d]{color:#fff;background-color:#107eff}.normal_tag[data-v-13ff165d]{color:#666;background-color:#fff;border:%?2?% solid #999}",""])},9636:function(t,e,i){"use strict";var a=i("1e61"),n=i.n(a);n.a},aa3d:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(i("a34a")),n=i("9797"),o=s(i("e63f")),r=s(i("5a57"));function s(t){return t&&t.__esModule?t:{default:t}}function d(t,e,i,a,n,o,r){try{var s=t[o](r),d=s.value}catch(l){return void i(l)}s.done?e(d):Promise.resolve(d).then(a,n)}function l(t){return function(){var e=this,i=arguments;return new Promise(function(a,n){var o=t.apply(e,i);function r(t){d(o,a,n,r,s,"next",t)}function s(t){d(o,a,n,r,s,"throw",t)}r(void 0)})}}var c={components:{uniLoadMore:o.default,uniPopup:r.default},data:function(){return{loadingText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},list:[],companyCode:"",loadingType:0,page:1,popupParam:"",orderSN:"",orderID:"",allMoney:"0",selectIndex:0,keywords:"",orderStatus:0,orderStatusList:["删除","已取消","待支付","待收货","已收货","","","","","","已退款"],typeList:["全部","待付款","待发货","已完成"],curType:0}},methods:{changeType:function(t){this.curType=t,console.log(t),this.orderStatus=t,this.page=1,this.getList()},payPopup:function(t){this.popupParam=t},moneyPay:function(t,e,i){this.orderSN=t,this.orderID=e,this.allMoney=i,this.popupParam="bottom"},tuikuan:function(t){var e=this;uni.showModal({title:"提醒",content:"是否退款",success:function(i){i.confirm?e.waterRefund(t):i.cancel&&console.log("用户点击取消")}})},waterRefund:function(){var t=l(a.default.mark(function t(e){var i,o;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i={orderID:this.list[e].orderID},t.next=3,(0,n.waterRefund)(i);case 3:o=t.sent,1==o.status?(this.page=1,this.getList()):uni.showToast({icon:"none",title:o.message,duration:1e3});case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),actionOrder:function(t,e){var i=this;uni.showModal({title:"提醒",content:1==t?"是否取消":"是否删除",success:function(a){a.confirm?i.cancel_water_order(t,e):a.cancel&&console.log("用户点击取消")}})},cancel_water_order:function(){var t=l(a.default.mark(function t(e,i){var o,r;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o={orderID:this.list[i].orderID},t.next=3,(0,n.cancel_water_order)(o);case 3:r=t.sent,1==r.status?(this.page=1,this.getList()):uni.showToast({icon:"none",title:r.message,duration:1e3});case 5:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}(),lookDetail:function(){var t=l(a.default.mark(function t(e){var i,n;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i={orderSN:this.list[e].orderSN},t.next=3,getExpressInfoByorderSN(i);case 3:n=t.sent,n.status;case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getList:function(){var t=l(a.default.mark(function t(){var e;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,n.water_order_list)(this.orderStatus,this.page);case 2:e=t.sent,uni.stopPullDownRefresh(),1==e.status&&(1==this.page?this.list=e.data:this.list=this.list.concat(e.data),this.list.length<10?this.loadingType=2:this.loadingType=0);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),goToDetail:function(t){this.selectIndex=t,uni.navigateTo({url:"/pages/service_order_detail/service_order_detail?orderID="+this.list[t].orderID})}},onReachBottom:function(){this.loadingType=1,this.page++,this.getList()},onPullDownRefresh:function(){console.log("dddddd"),this.page=1,this.getList()},onLoad:function(){},onShow:function(){this.popupParam="",this.page=1,this.getList(),this.companyCode=uni.getStorageSync("userInfo").companyCode;var t=this.$store.getters.getOrderItem;console.log(t),t&&(this.list[this.selectIndex]=JSON.parse(t),this.$forceUpdate())},onNavigationBarSearchInputChanged:function(t){console.log(t.text),this.page=1,this.keywords=t.text.trim(),this.getList()},onNavigationBarButtonTap:function(){console.log("点击了自定义按钮");var t=this;uni.scanCode({success:function(e){console.log("条码类型："+e.scanType),console.log("条码内容："+e.result),t.keywords=e.result,t.page=1,t.getList()}})}};e.default=c},aa42:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"load-more"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.loadingType&&t.showImage,expression:"loadingType === 1 && showImage"}],staticClass:"loading-img"},[i("v-uni-view",{staticClass:"load1"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load2"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load3"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1)],1),i("v-uni-text",{staticClass:"loading-text",style:{color:t.color}},[t._v(t._s(0===t.loadingType?t.contentText.contentdown:1===t.loadingType?t.contentText.contentrefresh:t.contentText.contentnomore))])],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},e63f:function(t,e,i){"use strict";i.r(e);var a=i("aa42"),n=i("5250");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("6944");var r=i("2877"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"1961c275",null);e["default"]=s.exports},f5b7:function(t,e,i){"use strict";i.r(e);var a=i("aa3d"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a}}]);