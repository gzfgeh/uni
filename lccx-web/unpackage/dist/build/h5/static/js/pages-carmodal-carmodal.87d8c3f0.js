(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-carmodal-carmodal"],{1079:function(t,e,a){"use strict";var n=a("742c"),i=a.n(n);i.a},"2bec":function(t,e,a){"use strict";a.r(e);var n=a("d288"),i=a("5e31");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("1079");var r=a("2877"),o=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"318f7ac0",null);e["default"]=o.exports},"5e31":function(t,e,a){"use strict";a.r(e);var n=a("c298"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},"742c":function(t,e,a){var n=a("db47");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("29ac1152",n,!0,{sourceMap:!1,shadowMode:!1})},c298:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(a("a34a")),i=a("4dd9");function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e,a,n,i,s,r){try{var o=t[s](r),c=o.value}catch(d){return void a(d)}o.done?e(c):Promise.resolve(c).then(n,i)}function o(t){return function(){var e=this,a=arguments;return new Promise(function(n,i){var s=t.apply(e,a);function o(t){r(s,n,i,o,c,"next",t)}function c(t){r(s,n,i,o,c,"throw",t)}o(void 0)})}}var c={data:function(){return{items:[],current:0,brand_name:"",familyName:"",license_no:"",response_no:"",brandCode:"",isExactness:!0,sendTime:"",global:"",currentIndex:0,isError:!1}},methods:{radioChange:function(t){console.log(t),this.currentIndex=t.mp.detail.value},next:function(){this.global.brandCode=this.items[this.currentIndex].brandCode,uni.setStorageSync("global",this.global),console.log(this.global),uni.navigateTo({url:"../quote_bill/quote_bill"})},vehicle:function(){var t=o(n.default.mark(function t(){var e,a;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={brand_code:this.items[this.currentIndex].brandCode,model_details:{family_name:this.items[0].familyName,standard_name:this.items[0].standardName,parent_veh_name:this.items[0].parentVehName,engine_desc:this.items[0].engineDesc,gearbox_type:this.items[0].gearboxType,seat:this.items[0].seat,new_car_price:this.items[0].newCarPrice}},t.next=3,(0,i.vehicle)(this.global.quotation_id,e);case 3:a=t.sent,200==a.code?this.next():wx.showToast({icon:"none",title:a.msg,duration:1e3});case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getModelExactness:function(){var t=o(n.default.mark(function t(){var e,a;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={license_no:this.license_no,response_no:"",frame_no:this.global.frameNo},t.next=3,(0,i.getModelExactness)(e);case 3:a=t.sent,200==a.code&&(0==a.data.state?(this.isExactness=!1,this.getModelMistiness()):(this.isExactness=!0,this.items=a.data.data,this.items.map(function(t,e){t.indexID=parseInt(e)}),console.log(this.items),this.familyName=a.data.data[0].familyName,this.brand_name=a.data.data[0].standardName,this.sendTime=a.data.sendTime,this.global.brandCode=a.data.data[0].brandCode));case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getModelMistiness:function(){var t=o(n.default.mark(function t(){var e,a;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={row:10,page:this.current+1,brand_name:this.brandCode},t.next=3,(0,i.getModelMistiness)(e);case 3:a=t.sent,200==a.code?(uni.stopPullDownRefresh(),console.log(a.data.data),this.items=a.data.data,this.items.map(function(t,e){t.indexID=parseInt(e)}),console.log(this.items),this.familyName=a.data.data[0].familyName,this.brand_name=a.data.data[0].standardName,this.sendTime=a.data.sendTime):(this.isError=!0,wx.showToast({icon:"none",title:"车辆信息查询失败",duration:1e3}));case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getHanzi:function(t){var e=/[\u4e00-\u9fa5]/g;return t.replace(e,"")}},onLoad:function(){this.global=uni.getStorageSync("global"),console.log("global"),console.log(t),this.license_no=this.global.license_no,this.response_no=this.global.responseNo,this.brandCode=this.getHanzi(this.global.brand),this.isExactness=!0,this.getModelExactness()},onReachBottom:function(){this.isExactness||(this.current++,this.getModelMistiness())},onPullDownRefresh:function(){this.isExactness||(this.current=0,this.getModelMistiness())}};e.default=c}).call(this,a("c8ba"))},d288:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isError?t._e():a("div",{staticClass:"contain"},[a("div",{staticClass:"title_wrap"},[a("div",{staticClass:"car_name"},[t._v(t._s(t.familyName))]),a("div",[t._v(t._s(t.brand_name))])]),t.isError?t._e():a("div",{staticClass:"content_wrap"},[a("v-uni-radio-group",{on:{change:function(e){e=t.$handleEvent(e),t.radioChange(e)}}},t._l(t.items,function(e,n){return a("v-uni-label",{key:n,staticClass:"uni-between-item "},[a("v-uni-view",{staticClass:"radio_wrap"},[a("span",[t._v(t._s(e.parentVehName)+" "+t._s(e.engineDesc)+" "+t._s(e.gearboxType)+" "+t._s(e.seat))]),a("span",{staticClass:"price"},[t._v("新车参考价："+t._s(e.newCarPrice)+"元")])]),a("v-uni-view",[a("v-uni-radio",{attrs:{value:e.indexID,checked:n===t.currentIndex}})],1)],1)}),1)],1),t.isError?a("div",[a("div",{staticClass:"error_head_wrap"},[a("img",{attrs:{src:t.car_list_error,alt:""}}),a("span",[t._v("车型选择失败")])]),a("div",{staticClass:"error_content"},[t._v("根据您所填写的车辆信息（车架号、发动机号、品牌型号），未能查出具体车型，请确认所填信息正确并重试。")])]):t._e(),a("v-uni-view",{staticClass:"btn_wrap"},[a("v-uni-button",{staticClass:"primary",attrs:{type:"primary","hover-class":"button-hover"},on:{click:function(e){e=t.$handleEvent(e),t.vehicle(e)}}},[t._v("下一步")])],1)],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},db47:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".contain[data-v-318f7ac0]{width:100%}.title_wrap[data-v-318f7ac0]{color:rgba(0,0,0,.7);padding:%?20?% %?50?%;background-color:#f9f9f9;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.car_name[data-v-318f7ac0]{color:#000;font-size:%?56?%;font-weight:700}.content_wrap[data-v-318f7ac0]{padding-left:%?48?%;padding-top:%?18?%;padding-bottom:%?18?%}.radio_wrap[data-v-318f7ac0]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;color:#000;font-size:%?28?%;margin-right:%?40?%}.radio_wrap .price[data-v-318f7ac0]{font-size:%?24?%;color:rgba(0,0,0,.4)}uni-radio-group uni-label[data-v-318f7ac0]{border-bottom:%?2?% solid rgba(0,0,0,.1);padding:%?16?% %?10?% %?16?% %?0?%}.btn_wrap[data-v-318f7ac0]{position:fixed;bottom:%?0?%;width:100%;height:%?160?%;background-color:#fff;padding:%?30?% %?40?%;-webkit-box-sizing:border-box;box-sizing:border-box}.primary[data-v-318f7ac0]{background-color:#427dff;color:#fff;border-radius:%?10?%;font-size:%?32?%;height:%?100?%;line-height:%?100?%}",""])}}]);